# CSS Performance

## –í–æ–ø—Ä–æ—Å—ã

1. –ö–∞–∫–∏–µ CSS-—Å–≤–æ–π—Å—Ç–≤–∞ –≤—ã–∑—ã–≤–∞—é—Ç repaint, reflow (layout) –∏–ª–∏ compositing? –ü—Ä–∏–≤–µ–¥–∏ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
2. –ö–∞–∫ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –ø—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏—è—Ö?
3. –ü–æ—á–µ–º—É transform –∏ opacity —Å—á–∏—Ç–∞—é—Ç—Å—è "–¥–µ—à—ë–≤—ã–º–∏" –¥–ª—è GPU? –û–±—ä—è—Å–Ω–∏ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–∞–π–ø–ª–∞–π–Ω –≤–∫—Ä–∞—Ç—Ü–µ.


## Reflow (Layout / Layout Recalculation)

–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≥–µ–æ–º–µ—Ç—Ä–∏—è –∏–ª–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞, —á—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ layout –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ —á–∞—Å—Ç–∏ –¥–µ—Ä–µ–≤–∞.


–ß—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç reflow:

* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ (width, height, padding, margin, border)
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (top, left, bottom, right —É –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤
* –ß—Ç–µ–Ω–∏–µ layout-—Å–≤–æ–π—Å—Ç–≤ (offsetWidth, clientHeight, getBoundingClientRect() –∏ —Ç.–¥.)
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ (font-size, font-family)
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ display (–Ω–∞–ø—Ä–∏–º–µ—Ä, display: none ‚Üí —Å–∫—Ä—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç layout)

```css
.some {
  width: 200px;
  height: 100px;
  padding: 10px;
  margin: 5px;
  border: 2px solid black;
  top: 20px;          /* –¥–ª—è position: absolute/fixed */
  left: 30px;
  font-size: 18px;
  display: block;     /* –æ—Å–æ–±–µ–Ω–Ω–æ display: none ‚Üî block */ 
}
```

> Reflow ‚Äî —Å–∞–º–∞—è "–¥–æ—Ä–æ–≥–∞—è" –æ–ø–µ—Ä–∞—Ü–∏—è, —Ç–∞–∫ –∫–∞–∫ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –≤—Å—ë –¥–µ—Ä–µ–≤–æ –Ω–∏–∂–µ –∏ –≤—ã—à–µ –ø–æ –ø–æ—Ç–æ–∫—É.


## Repaint (Redraw)

–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —ç–ª–µ–º–µ–Ω—Ç–∞, –Ω–æ –Ω–µ –µ–≥–æ –≥–µ–æ–º–µ—Ç—Ä–∏—è.
–ë—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –ø–∏–∫—Å–µ–ª–∏, –Ω–æ –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç layout.

–ß—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç repaint:

* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ (color, background-color, border-color)
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–Ω–∏ (box-shadow, text-shadow)
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ visibility (visible ‚Üî hidden)
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ outline

–ü—Ä–∏–º–µ—Ä—ã CSS-—Å–≤–æ–π—Å—Ç–≤, –≤—ã–∑—ã–≤–∞—é—â–∏—Ö repaint, –Ω–æ –ù–ï reflow:

```css
.some {
  color: red;
  background-color: blue;
  border-color: green;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  text-shadow: 1px 1px #000;
  visibility: hidden;   /* ‚â† display: none ‚Äî –Ω–µ —É–¥–∞–ª—è–µ—Ç –∏–∑ –ø–æ—Ç–æ–∫–∞! */
  outline: 2px solid purple;
}
```

> Repaint –¥–µ—à–µ–≤–ª–µ reflow, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –ø–∏–∫—Å–µ–ª–µ–π.


## Compositing-only (GPU-accelerated, no layout/repaint)

–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã—Ö —Å–ª–æ—ë–≤, –±–µ–∑ –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç–∞ layout –∏ –¥–∞–∂–µ –±–µ–∑ repaint.
–ë—Ä–∞—É–∑–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GPU –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏.

–ö–∞–∫ —ç—Ç–æ–≥–æ –¥–æ–±–∏—Ç—å—Å—è:

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç "–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å" –∫–æ–º–ø–æ–∑–∏—Ç–æ—Ä—É.
* –ß–∞—Å—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ—è —á–µ—Ä–µ–∑ will-change, transform, opacity.

```css
.some {
  transform: translateX(100px);   /* ‚úÖ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
  transform: scale(1.2);
  transform: rotate(10deg);
  opacity: 0.5;
  filter: blur(2px);              /* –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ ‚Äî composited */
}
```

> –≠—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –Ω–∏ reflow, –Ω–∏ repaint (–µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —É–∂–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–ª–æ–µ).


–ö–∞–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å compositing:

```css
.moving-element {
  transform: translateX(0); /* –∏–ª–∏ –ª—é–±–æ–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ */
  opacity: 1;
  /* –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: */
  will-change: transform, opacity; /* –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É —Å–æ–∑–¥–∞—Ç—å —Å–ª–æ–π */
}
```

> will-change ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ! –ù–µ –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –º–∞—Å—Å–æ–≤–æ.


## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞


| –ö–∞—Ç–µ–≥–æ—Ä–∏—è   | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—Ä—ã —Å–≤–æ–π—Å—Ç–≤                                 |
|-------------|--------------------|-------------------------------------------------|
| Reflow      | ‚ùå –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ   | width, height, top, padding, font-size, display |
| Repaint     | ‚ö†Ô∏è –£–º–µ—Ä–µ–Ω–Ω–æ        | background-color, color, box-shadow, visibility |
| Compositing | ‚úÖ –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ     | transform, opacity, filter (—á–∞—Å—Ç–æ)              |

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π

–ü–ª–æ—Ö–æ (–≤—ã–∑—ã–≤–∞–µ—Ç reflow –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä):

```css
/* –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö! */
@keyframes slide {
  from { left: 0; }
  to   { left: 100px; }
}
.element { position: relative; animation: slide 1s; }
```
–•–æ—Ä–æ—à–æ (—Ç–æ–ª—å–∫–æ compositing):

```css
/* –î–ï–õ–ê–ô–¢–ï –¢–ê–ö! */
@keyframes slide {
  from { transform: translateX(0); }
  to   { transform: translateX(100px); }
}
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ DevTools?

1. –û—Ç–∫—Ä–æ–π Chrome DevTools ‚Üí Performance.
2. –ó–∞–ø–∏—à–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.
3. –ü–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫–∏–µ —ç—Ç–∞–ø—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç:
  Layout ‚Üí reflow
  Paint ‚Üí repaint
  Composite Layers ‚Üí compositing

–ò–¥–µ–∞–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è: —Ç–æ–ª—å–∫–æ Composite Layers, –±–µ–∑ Layout –∏ Paint.


## –ü–æ—á–µ–º—É transform –∏ opacity —Å—á–∏—Ç–∞—é—Ç—Å—è "–¥–µ—à—ë–≤—ã–º–∏" –¥–ª—è GPU? –û–±—ä—è—Å–Ω–∏ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–∞–π–ø–ª–∞–π–Ω –≤–∫—Ä–∞—Ç—Ü–µ.

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É transform –∏ opacity —Å—á–∏—Ç–∞—é—Ç—Å—è ¬´–¥–µ—à—ë–≤—ã–º–∏¬ª, –Ω—É–∂–Ω–æ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤–Ω—É—Ç—Ä—å –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–≤–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —à–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

### üñ•Ô∏è –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω –±—Ä–∞—É–∑–µ—Ä–∞

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã (Chrome, Edge, Firefox, Safari) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Ö–æ–∂—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã:

1. JavaScript
   –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è JS-–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å DOM –∏–ª–∏ —Å—Ç–∏–ª–∏.

2. Style (Recalculate Style)
   –ë—Ä–∞—É–∑–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ CSS-–ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É.

3. Layout (Reflow)
   –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≥–µ–æ–º–µ—Ç—Ä–∏—è: –≥–¥–µ –∏ –∫–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä —É –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —à–∏—Ä–∏–Ω–∞, –≤—ã—Å–æ—Ç–∞).
   * –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, —Ä–∞–∑–º–µ—Ä–æ–≤ –æ–∫–Ω–∞, —à—Ä–∏—Ñ—Ç–æ–≤ –∏ —Ç.–¥.
   * –û—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ–π, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.

4. Paint (Rasterization)
   –≠–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Å–ª–æ–∏, –∫–∞–∂–¥—ã–π —Å–ª–æ–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø–∏–∫—Å–µ–ª–∏ (—Ä–∞—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è).
   * –ù–∞–ø—Ä–∏–º–µ—Ä: —Ñ–æ–Ω, —Ç–µ–∫—Å—Ç, –≥—Ä–∞–Ω–∏—Ü—ã ‚Äî —Ä–∏—Å—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.
   * –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ CPU –∏–ª–∏ GPU (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).

5. Composite (Compositing)
   –ì–æ—Ç–æ–≤—ã–µ —Ä–∞—Å—Ç—Ä–æ–≤—ã–µ —Å–ª–æ–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è (–∫–æ–º–ø–æ–∑–∏—Ä—É—é—Ç—Å—è) –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω.
   * –≠—Ç–∞ —Ñ–∞–∑–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è GPU, –µ—Å–ª–∏ —Å–ª–æ–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã.


### –ü–æ—á–µ–º—É transform –∏ opacity ‚Äî "–¥–µ—à—ë–≤—ã–µ"?

–ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —ç—Ç–∞–ø—ã Layout –∏ Paint!

–ö–æ–≥–¥–∞ –≤—ã –∞–Ω–∏–º–∏—Ä—É–µ—Ç–µ transform –∏–ª–∏ opacity:

‚úÖ –ë—Ä–∞—É–∑–µ—Ä:

* –ù–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç layout (–≥–µ–æ–º–µ—Ç—Ä–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è),
* –ù–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –ø–∏–∫—Å–µ–ª–∏ (paint –Ω–µ –Ω—É–∂–µ–Ω ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–ª–æ—è —É–∂–µ –≥–æ—Ç–æ–≤–æ),
* –ü—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞—Å—Ç—Ä–æ–≤–æ–≥–æ —Å–ª–æ—è –Ω–∞ —ç—Ç–∞–ø–µ Compositing.
* –ê –∫–æ–º–ø–æ–∑–∏—Ç–∏–Ω–≥ ‚Äî —ç—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é GPU –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º).

–ü—Ä–∏–º–µ—Ä: transform: translateX(100px)
* –≠–ª–µ–º–µ–Ω—Ç –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–∞–º –∂–µ –≤ –ø–æ—Ç–æ–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∑–∞–Ω–∏–º–∞–µ—Ç –ø—Ä–µ–∂–Ω–µ–µ –º–µ—Å—Ç–æ).
* –ï–≥–æ —Ä–∞—Å—Ç—Ä–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
* GPU –ø—Ä–æ—Å—Ç–æ —Å–¥–≤–∏–≥–∞–µ—Ç —Ç–µ–∫—Å—Ç—É—Ä—É —ç—Ç–æ–≥–æ —Å–ª–æ—è –Ω–∞ 100px –ø—Ä–∏ –≤—ã–≤–æ–¥–µ.
* –ù–∏–∫–∞–∫–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã ‚Üí –Ω—É–ª–µ–≤–æ–π reflow/repaint.


–ü—Ä–∏–º–µ—Ä: opacity: 0.5
* –¢–æ—Ç –∂–µ —Ä–∞—Å—Ç—Ä–æ–≤—ã–π —Å–ª–æ–π, –Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é.
* GPU —É–º–µ–µ—Ç —Å–º–µ—à–∏–≤–∞—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –Ω–∞ –ª–µ—Ç—É ‚Üí —Ç–æ–ª—å–∫–æ compositing.

### –ö–∞–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è "–∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —Å–ª–æ–π"?

–ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π, –µ—Å–ª–∏:

* –£ –Ω–µ–≥–æ –µ—Å—Ç—å transform –∏–ª–∏ opacity (–ø—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏),
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è will-change: transform,
* –ï—Å—Ç—å position: fixed / sticky,
* –ï—Å—Ç—å 3D-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º (translateZ(0), rotateX –∏ —Ç.–¥.),
* –ï—Å—Ç—å video, canvas, WebGL –∏ –¥—Ä.

> üí° –ù–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–∏—Ö —Å–ª–æ—ë–≤ —Ç–æ–∂–µ –≤—Ä–µ–¥–Ω–æ (–ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥ –ø–∞–º—è—Ç–∏, –æ–≤–µ—Ä—Ö–µ–¥ –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –≤ GPU). –ü–æ—ç—Ç–æ–º—É will-change –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–º–µ—Ä–µ–Ω–Ω–æ.
